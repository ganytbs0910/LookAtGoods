<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>部品番号検索</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            padding: 20px;
        }

        .search-highlight {
            background-color: #fef3c7;
            padding: 1px 2px;
            border-radius: 2px;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const SearchIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="21 21l-4.35-4.35"></path>
            </svg>
        );

        const ProductSearchSystem = () => {
            const [searchQuery, setSearchQuery] = useState('');
            const [searchResults, setSearchResults] = useState([]);

            // 商品データ
            const productData = [
                { code: '30700510(0383021A)', name: 'リングパッキン', model: 'GHS-65-A', spec: '6×24 排気弁', price: '460', purchase: '410' },
                { code: '03830210', name: '排気弁', model: 'GHS-65-A', spec: '1B', price: '6,890', purchase: '6,200' },
                { code: '30400319', name: 'Oリング', model: 'K-250', spec: '', price: '563', purchase: '540' },
                { code: '31001310', name: 'フランジパッキン', model: 'K-250', spec: '65', price: '', purchase: '270' },
                { code: '10101210', name: 'ケーシング', model: 'GS-65 GHS-65-A', spec: '', price: '78,670', purchase: '70,800' },
                { code: '12101911', name: 'ケーシングカバー', model: 'GS-65-M GHS-65-A', spec: '', price: '40,000', purchase: '35,200' },
                { code: '13041721', name: 'インペラ', model: 'GS-178 GHS-65-A', spec: '', price: '13,780', purchase: '12,400' },
                { code: '14000510', name: '羽根車ワッシャ', model: 'GHS-65-A', spec: 'B-18', price: '390', purchase: '350' },
                { code: '15003110', name: '主軸', model: 'GHS-65-A', spec: 'S-24×347', price: '18,560', purchase: '16,700' },
                { code: '16640710', name: '水切つばA', model: 'RA-25 GHS-65', spec: '', price: '938', purchase: '800' },
                { code: '16640810', name: '水切つばB', model: 'RA-25 GHS-65', spec: '', price: '938', purchase: '800' },
                { code: '17002910', name: 'ガイドベーン', model: 'GS-656-M7.5 GHS-65-A', spec: '', price: '19,120', purchase: '17,200' },
                { code: '18004111', name: 'パッキン押え', model: 'GHS-65-A', spec: 'B-26', price: '3,890', purchase: '3,500' },
                { code: '26800910', name: '弁座付連結管', model: 'GHS-65-A', spec: '65', price: '16,670', purchase: '15,000' },
                { code: '27002410', name: 'フランジ', model: 'GHS-65-A', spec: '65-10KL', price: '4,890', purchase: '4,400' },
                { code: '28700512', name: 'プラグ', model: 'GHS-65-A', spec: '3/8', price: '133', purchase: '120' },
                { code: '28702010', name: '排気用プラグ1', model: 'GHS-65-A', spec: '', price: '1,780', purchase: '1,600' },
                { code: '28702410', name: 'プラグ1', model: 'GHS-65-A ', spec: '(パッキン付)白色 工場から出荷', price: '470', purchase: '420' },
                { code: '28702412(28706410)', name: 'プラグ1', model: 'GHS-65-A', spec: '(パッキン付)黒色', price: '500', purchase: '450' },
                { code: '30303010', name: 'グランドパッキン', model: 'GHS-65-A', spec: '4527L-25', price: '1,070', purchase: '960' },
                { code: '30400915', name: 'Oリング', model: 'GHS-65-A', spec: 'AN6230-19', price: '280', purchase: '250' },
                { code: '30703210', name: 'リングパッキン', model: 'GHS-65-A', spec: '32.5×45', price: '230', purchase: '200' },
                { code: '31700920', name: '弁体付角パッキン', model: 'GHS-65-A', spec: '65', price: '2,250', purchase: '1,900' },
                { code: '35201916', name: '玉軸受', model: 'GHS-65-A', spec: '6306ZZ 2.35035E+11', price: '2,340', purchase: '2,100' },
                { code: '35400910', name: '軸受箱', model: 'GHS-65-A', spec: 'GS-M', price: '30,230', purchase: '27,200' },
                { code: '35620810(35620820)', name: '軸受カバー', model: 'GHS-65-A', spec: '', price: '2,560', purchase: '2,300' },
                { code: '36400113', name: 'ボルト', model: 'GHS-65-A', spec: 'M6×12', price: '78', purchase: '70' },
                { code: '36400313', name: 'ボルト', model: ' GHS-65-A', spec: 'M10×20', price: '78', purchase: '70' },
                { code: '36400414', name: 'ボルト', model: 'GHS-65-A', spec: 'M12×30', price: '78', purchase: '70' },
                { code: '36400432', name: 'ボルト', model: 'GHS-65-A', spec: 'M12×55', price: '122', purchase: '110' },
                { code: '36400515', name: 'ボルト', model: 'GHS-65-A', spec: 'M16×40', price: '133', purchase: '120' },
                { code: '36461016', name: '両ネジボルト', model: 'GHS-65-A', spec: 'M8×25', price: '150', purchase: '130' },
                { code: '37000116', name: 'ナット', model: 'GHS-65-A', spec: 'M12', price: '67', purchase: '60' },
                { code: '37000514', name: 'ナット', model: 'GHS-65-A', spec: 'M8', price: '75', purchase: '60' },
                { code: '37000517', name: 'ナット', model: 'GHS-65-A', spec: 'M16', price: '225', purchase: '200' },
                { code: '39001313', name: 'キー', model: 'GHS-65-A', spec: '5×5×25', price: '344', purchase: '310' },
                { code: '39050312', name: 'キー', model: 'GHS-65-A', spec: '8×7×40', price: '267', purchase: '240' },
                { code: '03830510', name: '排気弁', model: 'K-506X3-E', spec: '1/4-20K', price: '6,230', purchase: '5,600' },
                { code: '11005210', name: '吸込ケーシング', model: 'K-506X3-E', spec: '50 納期約20日', price: '155,560', purchase: '140,000' },
                { code: '11206012', name: '中間ケーシング', model: 'K-506X3-E', spec: '納期約20日', price: '31,750', purchase: '28,000' },
                { code: '11206020', name: '中間ケーシング', model: 'K-506X3-E', spec: '納期約20日', price: '31,125', purchase: '27,500' },
                { code: '11400612', name: '吐出ケーシング', model: 'K-506X3-E', spec: '40 納期約20日', price: '133,750', purchase: '118,000' },
                { code: '15209010', name: '主軸', model: 'K-506X3-E', spec: 'M-28X675', price: '87,560', purchase: '78,800' },
                { code: '16002710', name: 'スリーブ', model: 'K-506X3-E', spec: 'B-24', price: '11,560', purchase: '10,400' },
                { code: '16022620', name: 'スリーブ', model: 'K-506X3-E', spec: 'S-16', price: '9,560', purchase: '8,600' },
                { code: '16023110', name: 'スリーブ', model: 'K-506X3-E', spec: 'S-24', price: '18,000', purchase: '16,200' },
                { code: '16023111', name: 'スリーブ', model: 'K-506X3-E', spec: 'S-24', price: '18,000', purchase: '16,200' },
                { code: '16240011', name: '調整リング', model: 'K-506X3-E', spec: 'S-30', price: '5,000', purchase: '4,500' },
                { code: '16621810', name: '水切つば', model: 'K-506X3-E', spec: 'RC-30', price: '890', purchase: '800' },
                { code: '16641310', name: '水切つば', model: 'K-506X3-E', spec: 'RC-35', price: '2,230', purchase: '2,000' },
                { code: '16641410', name: '水切つば', model: 'K-506X3-E', spec: 'RC-35', price: '2,230', purchase: '2,000' },
                { code: '16642410', name: '水切つば', model: 'K-506X3-E', spec: 'RC-22', price: '1,340', purchase: '1,200' },
                { code: '16642420', name: '水切つば', model: 'K-506X3-E', spec: 'RC-22', price: '1,340', purchase: '1,200' },
                { code: '17108110', name: 'ガイドベーンK', model: 'K-506X3-E', spec: '', price: '27,900', purchase: '25,100' },
                { code: '17108210', name: 'ガイドベーンK', model: 'K-506X3-E', spec: '', price: '16,890', purchase: '15,200' },
                { code: '18002710', name: 'パッキン押え', model: 'K-506X3-E', spec: 'B-36', price: '5,890', purchase: '5,300' },
                { code: '18004310', name: 'パッキン押え', model: 'K-506X3-E', spec: 'B-36', price: '7,120', purchase: '6,400' },
                { code: '18201820', name: 'ランタンリング', model: 'K-506X3-E', spec: '35', price: '8,000', purchase: '7,200' },
                { code: '19500512', name: 'ブラケット', model: 'K-506X3-E', spec: '', price: '41,340', purchase: '37,200' },
                { code: '19500522', name: 'ブラケット', model: 'K-506X3-E', spec: '', price: '41,340', purchase: '37,200' },
                { code: '25300161', name: '直管', model: 'K-506X3-E', spec: '6×64', price: '1,780', purchase: '1,600' },
                { code: '25300162', name: '直管', model: 'K-506X3-E', spec: '6×125', price: '1,890', purchase: '1,700' },
                { code: '28050113', name: 'メスオスエルボ', model: 'K-506X3-E', spec: '1/2', price: '400', purchase: '360' },
                { code: '28700511', name: 'プラグ', model: 'K-506X3-E', spec: ' 1/4', price: '133', purchase: '120' },
                { code: '28700513', name: 'プラグ', model: 'K-506X3-E', spec: '1/2', price: '222', purchase: '200' },
                { code: '29200210', name: 'チューブカップリング', model: 'K-506X3-E', spec: '8', price: '1,500', purchase: '1,300' },
                { code: '29200710', name: 'チューブカップリング', model: 'K-506X3-E', spec: '10', price: '1,340', purchase: '1,200' },
                { code: '29201410', name: 'チューブカップリング', model: 'K-506X3-E ', spec: '8', price: '2,560', purchase: '2,300' },
                { code: '30301513', name: 'グランドパッキン', model: 'K-506X3-E', spec: '6502L-35', price: '840', purchase: '750' },
                { code: '30400135', name: 'Oリング', model: 'K-506X3-E', spec: 'G135', price: '280', purchase: '250' },
                { code: '30400318', name: 'Oリング', model: 'K-506X3-E', spec: 'K235', price: '520', purchase: '460' },
                { code: '30401127', name: 'Oリング', model: 'K-506X3-E', spec: 'S24', price: '188', purchase: '160' },
                { code: '35200516', name: '玉軸受', model: 'K-506X3-E', spec: '6306ZZC3', price: '1,890', purchase: '1,700' },
                { code: '35200517', name: '玉軸受', model: 'K-506X3-E', spec: '6307ZZC3', price: '2,450', purchase: '2,200' },
                { code: '35402510', name: '軸受箱', model: 'K-506X3-E', spec: '80', price: '19,890', purchase: '17,900' },
                { code: '35402612', name: '軸受箱', model: 'K-506X3-E', spec: '72', price: '17,340', purchase: '15600' },
                { code: '35663610', name: '軸受カバー', model: 'K-506X3-E', spec: '100  注文後5日必要', price: '1,230', purchase: '1,100' },
                { code: '36400111', name: 'ボルト', model: 'K-506X3-E', spec: 'M6×8 ', price: '78', purchase: '70' },
                { code: '36400214', name: 'ボルト', model: 'K-506X3-E', spec: 'M8×20 ', price: '78', purchase: '70' },
                { code: '36401216', name: 'ボルト', model: 'K-506X3-E', spec: 'M8×30', price: '122', purchase: '110' },
                { code: '36450618', name: '両ねじボルト', model: 'K-506X3-E', spec: 'M10×35', price: '225', purchase: '200' },
                { code: '36462024', name: '両ねじボルト', model: 'K-506X3-E', spec: 'M24×245', price: '1,340', purchase: '1,200' },
                { code: '37000120', name: 'ナット', model: 'K-506X3-E', spec: 'M24', price: '200', purchase: '180' },
                { code: '37000915', name: 'ナット', model: 'K-506X3-E', spec: 'M10', price: '113', purchase: '90' },
                { code: '37000917', name: 'ナット', model: 'K-506X3-E', spec: 'M16', price: '150', purchase: '130' },
                { code: '37021510', name: '丸ナット', model: 'K-506X3-E', spec: 'M24', price: '4,375', purchase: '3,900' },
                { code: '37411910', name: '平座金', model: 'K-506X3-E', spec: '17×44 ', price: '3,120', purchase: '2,800' },
                { code: '37450117', name: '内歯付座金', model: 'K-506X3-E', spec: '16 ', price: '133', purchase: '120' },
                { code: '39001312', name: 'キー', model: 'K-506X3-E', spec: '5X5X20 ', price: '344', purchase: '310' },
                { code: '39001411', name: 'キー', model: 'K-506X3-E', spec: '6X6X40', price: '500', purchase: '450' },
                { code: '39003410', name: 'キー', model: 'K-506X3-E', spec: '6X6X56', price: '756', purchase: '680' },
                { code: '39200228', name: '止め輪', model: 'K-506X3-E', spec: '30', price: '189', purchase: '170' },
                { code: '87800000', name: 'インペラ', model: 'K-506X3-E', spec: 'K-150,吸込側', price: '115,230', purchase: '103,700' },
                { code: '87800000', name: 'インペラ', model: 'K-506X3-E', spec: 'K-130', price: '115,230', purchase: '103,700' },
                { code: '13508800', name: 'インペラ', model: 'K-505GX5-E', spec: 'K,要耐圧試験の為納期約20日', price: '85,560', purchase: '77,000' },
                { code: '15209210', name: '主軸', model: 'K-505GX5-E', spec: 'M-28X795　要塗装のため納期約5日', price: '142,230', purchase: '128,000' },
                { code: '25300164', name: '直管', model: 'K-505GX5-E', spec: '6×245　要塗装のため納期約5日', price: '1,230', purchase: '1,100' },
                { code: '35202116', name: '玉軸受', model: 'K-505GX5-E', spec: '6306ZZC3AC (アンチクリープ)', price: '2,670', purchase: '2,400' },
                { code: '35202117', name: '玉軸受', model: 'K-505GX5-E', spec: '6307ZZC3AC (アンチクリープ)', price: '2,670', purchase: '2,400' },
                { code: '36462026', name: '両ねじボルト', model: 'K-505GX5-E', spec: 'M24×365,要塗装のため納期約5日', price: '1,780', purchase: '1,600' }
            ];

            // 日本語の商品名を抽出する関数
            const extractJapaneseName = (name) => {
                // 日本語（ひらがな、カタカナ、漢字）を抽出
                const match = name.match(/[\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+/g);
                return match ? match.join('') : '';
            };

            // 検索処理
            const handleSearch = () => {
                const query = searchQuery.toLowerCase();

                if (!query) {
                    setSearchResults([]);
                    return;
                }

                const results = productData.filter(item => {
                    const japaneseName = extractJapaneseName(item.name);
                    // 商品名称（日本語部分）のみで検索
                    return japaneseName.toLowerCase().includes(query) ||
                        item.name.toLowerCase().includes(query);
                });

                setSearchResults(results);
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            };

            // 検索語をハイライト表示する関数
            const highlightSearchTerm = (text, searchTerm) => {
                if (!searchTerm) return text;

                const regex = new RegExp(`(${searchTerm})`, 'gi');
                const parts = text.split(regex);

                return parts.map((part, index) =>
                    regex.test(part) ?
                        <span key={index} className="search-highlight">{part}</span> :
                        part
                );
            };

            return (


                <div className="max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg">
                    <h1 className="text-3xl font-bold text-gray-800 mb-8 text-center">
                        商品検索システム
                    </h1>

                    <div className="mb-6">
                        <div className="relative">
                            <input
                                type="text"
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                onKeyPress={handleKeyPress}
                                placeholder="商品名を入力してください（例：排気弁、ナット、ボルト、水切つば）"
                                className="w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"
                            />
                            <button
                                onClick={handleSearch}
                                className="absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-gray-500 hover:text-blue-600 transition-colors"
                            >
                                <SearchIcon />
                            </button>
                        </div>
                        <div className="mt-2 text-gray-500 text-sm">
                            例：<span className="inline-block bg-gray-100 rounded px-2 py-1 mr-2">00398-00-0002　資材課</span>
                            <span className="inline-block bg-gray-100 rounded px-2 py-1">運賃1,500（部品）2,000（製品）</span>
                        </div>
                    </div>

                    <button
                        onClick={handleSearch}
                        className="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium mb-6 text-lg"
                    >
                        検索
                    </button>

                    {searchResults.length > 0 && (
                        <div className="space-y-4">
                            <h2 className="text-xl font-semibold text-gray-700 mb-4">
                                検索結果: {searchResults.length}件
                            </h2>
                            <div className="overflow-x-auto">
                                <table className="min-w-full bg-white border border-gray-200">
                                    <thead>
                                        <tr className="bg-gray-50">
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-b">商品名称</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-b">商品コード</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-b">型式</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider border-b">仕様</th>
                                            <th className="px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider border-b">単価</th>
                                            <th className="px-4 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider border-b">仕入れ</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-200">
                                        {searchResults.map((item, index) => (
                                            <tr key={index} className="hover:bg-gray-50">
                                                <td className="px-4 py-3 text-sm font-medium text-gray-900">
                                                    {highlightSearchTerm(item.name, searchQuery)}
                                                </td>
                                                <td className="px-4 py-3 text-sm text-blue-600 font-mono">{item.code}</td>
                                                <td className="px-4 py-3 text-sm text-gray-600">{item.model}</td>
                                                <td className="px-4 py-3 text-sm text-gray-600">{item.spec || '-'}</td>
                                                <td className="px-4 py-3 text-sm text-right font-semibold text-green-600">
                                                    {item.price ? `¥${item.price}` : '-'}
                                                </td>
                                                <td className="px-4 py-3 text-sm text-right text-gray-600">
                                                    {item.purchase ? `¥${item.purchase}` : '-'}
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}

                    {searchQuery && searchResults.length === 0 && (
                        <div className="text-center text-gray-500 py-12">
                            <p className="text-lg">「{searchQuery}」に該当する商品が見つかりませんでした。</p>
                            <p className="text-sm mt-2">別のキーワードでお試しください。</p>
                        </div>
                    )}

                    <div className="mt-8 text-sm text-gray-600">
                        <p>※ 商品名の日本語部分（ひらがな、カタカナ、漢字）で検索できます。</p>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<ProductSearchSystem />, document.getElementById('root'));
    </script>
</body>

</html>